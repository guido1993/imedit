<Page
    x:Class="Imedit.Views.EditPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    DataContext="{Binding EditPage, Source={StaticResource ViewModelLocator}}"
    d:DataContext="{d:DesignInstance Type=viewModels:EditPageViewModel, IsDesignTimeCreatable=True}"
    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:panels="using:Imedit.Views.Panels"
    mc:Ignorable="d">

    <Page.Resources>
        
        <DataTemplate x:Key="PaintBucketCursor">
            <Path Width="20" Height="20"
							Data="M22.078048,10.524087C22.078048,10.524087,31.99999,12.1271,31.99999,19.644161L31.99999,27.061223C31.99999,33.475275 25.987026,29.266241 25.987026,25.55721 25.987026,20.64617 30.397001,18.842155 28.392012,16.838139z M12.757101,0C17.367075,0,20.073059,6.5150537,20.174059,11.325093L20.174059,11.626096 20.374058,11.826097C22.178047,13.631112 24.483034,15.936131 25.28503,16.737138 26.588022,18.040148 25.686028,19.544161 25.18503,20.045165 24.583034,20.64617 14.160093,31.070255 14.160093,31.070255 12.9571,32.272265 8.9481231,30.067247 5.1401448,26.259216 1.3311667,22.450185 -0.8738203,18.341151 0.32917213,17.239142L11.354109,6.2140512C11.354109,6.2140512 12.055105,5.5120449 13.0581,5.5120449 13.559097,5.5120449 14.160093,5.713047 14.76109,6.3140526L15.964083,7.6170626C16.666079,9.8220806 16.165082,11.626096 15.864083,12.528103 15.263087,12.929107 14.862089,13.631112 14.862089,14.332118 14.862089,15.535128 15.864083,16.537136 17.067077,16.537136 18.26907,16.537136 19.272064,15.535128 19.272064,14.332118 19.272064,13.530111 18.871066,12.929107 18.26907,12.528103 18.37007,12.027099 18.37007,11.025091 18.16907,9.7220802 18.16907,9.7220802 18.37007,9.9220819 18.770067,10.323085L18.770067,10.123083C18.26907,6.0130501 15.964083,1.3030109 12.657102,1.3030109 8.6481248,1.3030109 7.7461299,5.4120445 7.74613,6.9150572L6.5431371,6.9150572C6.5431368,4.2090359,8.2471271,0,12.757101,0z" 
							Stroke="Black"
							Stretch="Uniform" Fill="#FFFFFFFF" Margin="0,0,0,0"/>
        </DataTemplate>
        
        <DataTemplate x:Key="TextCursor">
            <Path Width="20" Height="20"
							Data="M10.400047,27.399963L12.200075,28.899963 14.000072,30.399963 11.800079,31.200012 9.7000626,32 10.100058,29.700012z M19.700114,14.200012L24.700139,18.200012 16.500085,28.399963 11.500059,24.399963z M24.300143,10.399963C25.000129,10.399963 25.700145,10.599976 26.300153,11.099976 27.700154,12.200012 27.900138,14.200012 26.800156,15.599976L25.800151,16.899963 20.800126,12.899963 21.80013,11.599976C22.500115,10.799988,23.400115,10.399963,24.300143,10.399963z M2.8000332,0L20.500106,0C21.500109,0 22.200126,0.20001221 22.700129,0.59997559 23.200131,1 23.400115,1.5999756 23.400115,2.2999878 23.400115,3 23.200131,3.5999756 22.700129,4 22.200126,4.3999634 21.500109,4.5999756 20.600112,4.5999756L14.500074,4.5999756 14.500074,17.200012 8.9000395,24.099976 8.9000395,4.5999756 2.8000332,4.5999756C1.8000277,4.5999756 1.1000119,4.3999634 0.70001602,4 0.2000134,3.5999756 1.7608545E-07,3 0,2.2999878 1.7608545E-07,1.5999756 0.2000134,1 0.70001602,0.59997559 1.2000186,0.20001221 1.9000039,0 2.8000332,0z"
                  Stroke="Black" Stretch="Uniform" Fill="#FFFFFFFF" Margin="-20,-20,0,0" RenderTransformOrigin="0.5,0.5"/>
        </DataTemplate>
        <DataTemplate x:Key="SelectionCursor">
            <Path Width="20" Height="20"
							Data="M14.750001,1.8830004C14.221002,1.8830004,13.790002,2.3149996,13.790002,2.8439999L13.790002,12.381014 13.792007,12.381014 13.792007,14.264013 2.9170008,14.262013C2.3470011,14.262013,1.8830013,14.692013,1.8830013,15.221013L1.8830013,17.721012C1.8830013,18.251011,2.3470011,18.683011,2.9170008,18.683011L11.904005,18.683011 11.904003,18.675014 13.786004,18.675014 13.790004,29.081004C13.790004,29.653005,14.221004,30.118003,14.750004,30.118003L17.250006,30.118003C17.779006,30.118003,18.210006,29.653005,18.210006,29.081004L18.208006,18.678014 20.090007,18.678014 20.090008,18.683014 29.084976,18.683014C29.654983,18.683014,30.117995,18.251008,30.117995,17.721009L30.117995,15.221011C30.117995,14.692019,29.654983,14.261997,29.084976,14.261996L18.208981,14.261996 18.208981,12.379002 18.211,12.379002 18.211,2.8439999C18.211,2.3149996,17.78,1.8830004,17.250001,1.8830004z M14.750001,0L17.250001,0C18.816999,0,20.092999,1.276,20.092999,2.8439999L20.092999,12.379002 29.084976,12.379002C30.692976,12.379002,31.999982,13.655002,31.999982,15.221011L31.999982,17.721009C31.999982,19.289001,30.692976,20.565001,29.084976,20.565001L20.090551,20.565001 20.093007,29.081004C20.093007,30.691003,18.817006,32.000001,17.250006,32.000001L14.750004,32.000001C13.183003,32.000001,11.907002,30.691003,11.907002,29.081004L11.904547,20.56501 2.9170008,20.56501C1.3080006,20.56501,0,19.289011,0,17.721012L0,15.221013C0,13.655014,1.3080006,12.379014,2.9170008,12.379014L11.907003,12.380668 11.907003,2.8439999C11.907003,1.276,13.183002,0,14.750001,0z"
                  Stroke="Black" Stretch="Uniform" Fill="#FFFFFFFF" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5" StrokeThickness="1"/>
        </DataTemplate>
        <DataTemplate x:Key="PenCursor">
            <Path Width="20" Height="20"
							Data="M4.234565,23.060143L3.3980846,26.498995 5.6062109,28.670895 9.1839902,27.854559z M20.369981,6.6974076L5.4623272,21.465012 10.698205,26.536911 25.463305,11.631243z M24.268012,2.8359963L21.791127,5.2896117 26.870864,10.210285 29.195014,7.8640078z M24.290015,0L32.002999,7.8720034 10.464999,29.613993 0,31.999001 2.5469978,21.53801z"
                  Stretch="Uniform" Fill="#FFFFFFFF" Margin="0,0,0,0" Stroke="Black" RenderTransformOrigin="0.5,0.5"/>
        </DataTemplate>
        <DataTemplate x:Key="EyeDropperCursor">
            <Path Width="20" Height="20"
                            Data="M13.943788,11.70396L25.047763,26.108908C25.647754,26.808903 26.747757,31.310884 25.947755,31.910889 25.24776,32.510893 20.845764,29.909889 20.245775,29.209894L9.2418038,15.604947z M5.3408128,0C5.8408119,0,6.1407987,0.099998113,6.4408013,0.40000003L12.642781,8.2029734C12.743794,8.3029719,12.743794,8.4029694,12.843785,8.602974L14.343781,7.4029732C15.043776,6.9019757 15.744778,6.7019797 16.04478,7.0019736 16.344783,7.3019757 15.944775,8.0029774 15.343778,8.5029755L6.3408104,15.604947C5.6408001,16.104946 4.9408046,16.305948 4.6408025,16.00494 4.3408157,15.704953 4.7408081,15.004944 5.3408128,14.504946L6.8418008,13.304953C6.7408034,13.203955,6.6407977,13.203955,6.5408069,13.003959L0.23882076,5.3019829C-0.46117444,4.5019827 0.43881719,2.7009943 2.1398171,1.3999965 3.2398051,0.49999823 4.440806,0 5.3408128,0z"
                  Stretch="Uniform" Fill="#FFFFFFFF" Margin="0,0,0,0" Stroke="Black" RenderTransformOrigin="0.5,0.5">
                <Path.RenderTransform>
                    <TransformGroup>
                        <TransformGroup.Children>
                            <RotateTransform Angle="0" />
                            <ScaleTransform ScaleX="-1" ScaleY="-1" />
                        </TransformGroup.Children>
                    </TransformGroup>
                </Path.RenderTransform>
            </Path>
        </DataTemplate>
        
    </Page.Resources>
    <Grid Background="#D3D3D3">
    <Grid x:Name="CursorBorder" Margin="0,20,0,0">
        <Grid Background="DarkGray" Name="MasterEditGrid">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <panels:SmallEditorPane Grid.Row="0"
                                   Grid.Column="0"
                                   Grid.ColumnSpan="2"
                                   Visibility="{Binding IsContinuum, Converter={StaticResource BooleanToVisibilityConverter}}"/>
            
            <Border Grid.Row="1" 
                    Grid.Column="0" 
                    BorderThickness="0,2,0,0" 
                    BorderBrush="#FF696969">
                <Grid Margin="50"
                      x:Name="FullCanvas"
                      Tapped="Image_Tapped">
    
                    <Image Stretch="Uniform" 
                           x:Name="SourceImage"
                           Source="{Binding Image}">
                    </Image>

                    <InkCanvas x:Name="inkCanvas"/>
                </Grid>
            </Border>
            
            <panels:BottomEditorPanel Grid.Row="2"
                                     Grid.Column="0"
                                     Grid.ColumnSpan="2" />

            <panels:FullEditorPane Grid.Row="1"
                                  Grid.Column="1"
                                  Visibility="{Binding IsContinuum, Converter={StaticResource BooleanToVisibilityConverter}}" />
        </Grid>
        
        <Canvas Name="Panel"/>
    </Grid>
    </Grid>
</Page>
